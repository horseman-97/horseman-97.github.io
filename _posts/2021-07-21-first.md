---
title: "AIoT 수업 2일차"
excerpt: Maixduino 개발환경 설정과 디지털 입출력

categories:
 - Class
tags:
 - [MicroPython, Microcontroller, LED, Button]

date: 2021-07-20
last_modified_at: 2021-07-24
---
### MicroController

- Maixduino를 설명하기 전에 앞서 마이크로컨트롤러에 대해 알아보자.


![image](https://user-images.githubusercontent.com/59239144/126373374-e6e6ecff-6d5a-450b-b460-0225fb2483ce.png)

- 마이크로컨트롤러라는 이름의 반도체와 주변 장치들이 합쳐져서 board가 된다고 생각하면 된다.

	![image](https://user-images.githubusercontent.com/59239144/126373404-a4c7bd45-659e-4fa3-9ef8-7bd863e8cad4.png)

- 마이크로컨트롤러는 저 그림에서 중앙에 있는 연산 기능만 가지고 있는 것이다.

- 그림의 '일부 HDD 기능'은 flash memory가 존재하기 때문에 그걸로 처리할 수 있다.

  ![image](https://user-images.githubusercontent.com/59239144/126373449-87a8a033-fa02-4d10-97bb-cc302dd4e10a.png)

- 마이크로프로세서와는 다르다. 마이크로프로세서는 컴퓨터의 일반적인 CPU라고 생각하면 되지만, 마이크로컨트롤러는 거의 모든 전자제품에 다 들어 있는 싱글 칩 컴퓨터이다. 

- 즉 컴퓨터의 부품이냐 vs 컴퓨터 그 자체이냐의 차이.

- | 항목        | Arduino Mega2560     | 일반 데스크톱    |
  | ----------- | -------------------- | ---------------- |
  | CPU         | ATmega2560           | Intel Core i7    |
  | 비트        | 8                    | 64               |
  | 메모리      | 256KB                | 8GB              |
  | 클록        | 16MHz 싱글코어       | 3.4GHz 쿼드코어  |
  | 시스템 가격 | 25,000원(ATmega2560) | 1,000,000원 정도 |

당연히 비트, 즉 한 번에 처리 가능한 자료 양에서 차이가 있다. 각각 2의 8승과 2의  64승만큼 한 번에 계산 가능하다. 그리고 메모리, 즉 RAM도 일반 컴퓨터는 8GB, 16GB가 일반적이지만 마이크로컨트롤러는 단위가 KB이다. 실행속도인 클록 역시 큰 차이가 있다.

![image](https://user-images.githubusercontent.com/59239144/126373468-8382065c-e69f-4ae9-a94e-01e7d2eccb11.png)

- 이렇게 성능이 낮지만, 단순 동작을 요하는 영역에서 아주 폭넓게 많이 쓴다.  

  ---
### MicroController
- 앞서 마이크로프로세서와 비교하면서 Arduino를 잠깐 언급했다.

- 하지만 우리는 이번에  Maixduino를 쓸 것이다.

  ![image](https://user-images.githubusercontent.com/59239144/126867413-ed467f9a-dd1d-4a29-ba36-5e60d12d1372.png)

- 이것 역시 주변기기가 존재하고, ESP32 모듈이라는 WIFI와 Bluetooth 통신을 위한 마이크로컨트롤러가 따로 존재한다.

  ![sipeed_maixduin_pins](https://user-images.githubusercontent.com/59239144/126868313-9d4f6892-98d0-46cd-9bec-02c3a88aedda.png)

- 저 보드를 뒤집으면 저런 모양이 나온다. pin마다 이름이 할당되어 있다.

- 초록색은 Maixduino 뒷면에 적힌 pin 번호이고, Maixduino의 메인 칩, 즉 K210의 핀 번호는 파란색이다. 왜 저렇게 나눠놨냐면, 아두이노 기반으로 기존 library가 존재하고 있고, Maixduino는 그걸 가져다 쓰는 식으로 작동하기 때문이다.

- 우리가 실제로 코드에 쓸 번호는 파란색 K210 번호이다.

  ![image](https://user-images.githubusercontent.com/59239144/126872511-70fedc61-12c4-444c-b188-d6bb95c30e7a.png)

- 하드웨어 스펙에 대해 간략히 알아보자. 

- High-end SOC. 즉 CPU보다는 성능이 낮고, MCU보다는 성능이 높다고 보면 된다.

- 듀얼코어이고 RISC 아키텍쳐를 제공한다. FPU, 즉 부동소수점 계산 모듈을 제공한다. 연산이 빠르기 때문에 image recognition, 즉 매트릭스 연산도 가능하다.

- 그리고 오디오 지원, 보안 강화, 절전 모드 등의 설정이 있다. 

- 마지막으로 다른 microcontroller들과 차별화되는 점은, DNN(Deep Neural Network) framework, 예를 들면 Tensorflow나 KNN을 사용 가능하다는 점이다. 이 기능을 이용해서 AIoT 수업을 진행할 것이다.

### MicroPython - MaixPy

- python을 이용해 microcontroller를 돌려 보기 위해 나온 게 micropython이다. 이렇게 하면 Python으로 디바이스 동작과 AI를 모두 처리할 수 있다.

- 구동 드라이버와 IDE, GUI는 아래 주소에서 받을 수 있다.

  - MaixPy IDE
    - http://dl.sipeed.com/shareURL/MAIX/MaixPy/ide/v0.2.5

  - ftdi_vcp_driver
    - https://dl.sipeed.com/MAIX/tools/ftdi_vcp_driver

  - K-Flash
    - https://github.com/sipeed/kflash_gui/releases/tag/v1.6.7

### LED